<!doctype html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Test Dropdown Menu</title>
    <link rel="stylesheet" href="css/styles.css" />
    <style>
      body {
        padding-top: 80px;
      }
      .test-container {
        max-width: 1200px;
        margin: 2rem auto;
        padding: 2rem;
        background: white;
        border-radius: 8px;
      }
      .test-container h1 {
        margin-bottom: 1rem;
      }
      .instructions {
        background: #f5f5f5;
        padding: 1rem;
        border-radius: 6px;
        margin-bottom: 1rem;
        border-left: 4px solid #9c0000;
      }
    </style>
  </head>
  <body>
    <!-- Navigation -->
    <nav>
      <div class="logo">
        <div class="logo-icon">
          <img src="images/logo.jpg" alt="Logo" />
        </div>
        <span>Tadaima Balige Restaurant</span>
      </div>
      <ul class="nav-menu">
        <li><a href="beranda.html">Beranda</a></li>
        <li><a href="customer/menu.html">Menu</a></li>
        <li><a href="customer/reservasi.html">Reservasi</a></li>
        <li><a href="customer/about.html">Tentang Kami</a></li>
        <li>
          <a href="customer/keranjang.html">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="25"
              height="25"
              fill="currentColor"
              class="bi bi-cart"
              viewBox="0 0 16 16"
            >
              <path
                d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5M3.102 4l1.313 7h8.17l1.313-7zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4m7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4m-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2m7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2"
              />
            </svg>
          </a>
        </li>
        <li>
          <button
            class="user-profile-btn"
            onclick="toggleUserDropdown()"
            style="background: none; border: none; cursor: pointer; padding: 0"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="25"
              height="25"
              fill="white"
              class="bi bi-person-fill"
              viewBox="0 0 16 16"
            >
              <path
                d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6"
              />
            </svg>
          </button>

          <!-- User Dropdown Menu -->
          <div class="user-dropdown" id="userDropdown">
            <a href="customer/user_profile.html" class="dropdown-item"
              >ðŸ‘¤ Profil Saya</a
            >
            <button class="dropdown-item" onclick="openLogoutModal(event)">
              ðŸšª Logout
            </button>
          </div>
        </li>
      </ul>
    </nav>

    <div class="test-container">
      <h1>âœ… Test Dropdown Menu</h1>

      <div class="instructions">
        <h3>Instruksi Test:</h3>
        <p>1. Klik ikon user (ðŸ‘¤) di navbar sebelah kanan</p>
        <p>2. Dropdown menu seharusnya muncul dengan dua opsi:</p>
        <ul>
          <li>ðŸ‘¤ Profil Saya</li>
          <li>ðŸšª Logout</li>
        </ul>
        <p>3. Klik di luar dropdown untuk menutup</p>
        <p>4. Klik "Logout" untuk test logout modal</p>
      </div>

      <h2>Debug Info:</h2>
      <p>Buka Browser Console (F12) untuk melihat messages:</p>
      <pre style="background: #f5f5f5; padding: 1rem; border-radius: 6px">
Akan menampilkan:
- "toggleUserDropdown called"
- "Dropdown toggled"
        </pre
      >
    </div>

    <!-- Logout Modal -->
    <div id="logoutModal" class="logout-modal">
      <div class="logout-modal-content">
        <div class="logout-modal-header">
          <h2>Konfirmasi Logout</h2>
          <button class="logout-modal-close" onclick="closeLogoutModal()">
            &times;
          </button>
        </div>
        <div class="logout-modal-body">
          <svg
            class="logout-icon"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="8" x2="12" y2="12"></line>
            <line x1="12" y1="16" x2="12.01" y2="16"></line>
          </svg>
          <p class="logout-modal-text">
            Apakah Anda yakin ingin keluar dari sistem?
          </p>
        </div>
        <div class="logout-modal-footer">
          <button class="btn-cancel" onclick="closeLogoutModal()">Batal</button>
          <button class="btn-logout" onclick="confirmLogout()">
            Ya, Logout
          </button>
        </div>
      </div>
    </div>

    <script src="js/logout.js"></script>
    <script>
      // Override toggleUserDropdown dengan logging
      const originalToggle = window.toggleUserDropdown;
      window.toggleUserDropdown = function () {
        console.log("toggleUserDropdown called");
        const dropdown = document.getElementById("userDropdown");
        console.log("Dropdown element:", dropdown);
        console.log("Dropdown classes before:", dropdown.className);

        if (dropdown) {
          dropdown.classList.toggle("active");
          console.log("Dropdown classes after:", dropdown.className);
          console.log("Dropdown toggled");
        }
      };
    </script>
  </body>
</html>
